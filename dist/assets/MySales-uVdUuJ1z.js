import{u as x,r as d,j as s,c as j,q as u,w as m,g as p,a as S,b as f,d as l}from"./index-KnTpx8DV.js";const N=()=>{const{user:r}=x(),[a,o]=d.useState([]);d.useEffect(()=>{(async()=>{if(r){const t=j(l,"Sales"),n=u(t,m("sellerUsername","==",r.username)),h=(await p(n)).docs.map(c=>({id:c.id,...c.data()}));o(h)}})()},[r]);const i=async e=>{try{await S(f(l,"Sales",e)),o(a.filter(t=>t.id!==e))}catch(t){console.error("Error deleting sale: ",t)}};return s.jsxs("div",{className:"sales-container",children:[s.jsx("div",{className:"aa",children:s.jsx("h1",{children:"My Sales"})}),a.length>0?a.map(e=>s.jsxs("div",{className:"order-card",children:[s.jsxs("div",{className:"order-header",children:[s.jsxs("h2",{children:["Order ID: ",e.id]}),s.jsx("button",{className:"delete-button1",onClick:()=>i(e.id),children:"X"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",e.orderDate.toDate().toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Amount:"})," $",e.totalAmount.toFixed(2)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",e.status]}),s.jsx("div",{className:"order-items",children:e.orderItems.map((t,n)=>s.jsxs("div",{className:"order-item",children:[s.jsxs("p",{children:[s.jsx("strong",{children:t.product_name})," - $",t.price.toFixed(2)," x ",t.quantity," = $",t.total.toFixed(2)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Buyer:"})," ",e.buyerUsername]})]},n))}),s.jsxs("p",{className:"total",children:[s.jsx("strong",{children:"Total Cost:"})," $",e.totalAmount.toFixed(2)]})]},e.id)):s.jsxs("p",{children:["No sales found for ",r==null?void 0:r.username,"."]})]})};export{N as default};
